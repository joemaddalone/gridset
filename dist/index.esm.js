var t=function(){return(t=Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++)for(var i in r=arguments[e])Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);return t}).apply(this,arguments)};function r(t,r){var e,n,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;l;)try{if(e=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(i=l.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=r.call(t,l)}catch(t){o=[6,t],n=0}finally{e=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}var e={scanner:function(t,e,n){var i,o;return void 0===e&&(e="f"),r(this,(function(r){switch(r.label){case 0:i=t.length-1,o="f"===e?-1:i+1,null!==n&&(o="f"===e?n-1:n+1),r.label=1;case 1:return"f"===e?o!==i?o++:(e="r",o--):0!==o?o--:(e="f",o++),[4,t[o]];case 2:return r.sent(),[3,1];case 3:return[2]}}))},bouncer:function(t,e,n,i,o){var l,c,u,a,s,h;return void 0===i&&(i=1),void 0===o&&(o=1),r(this,(function(r){switch(r.label){case 0:l=i,c=o,u=e?e-1:-1,a=n?n-1:-1,s=t.length-1,h=t[0].length-1,r.label=1;case 1:return(l+u>s||l+u<0)&&(l*=-1),(c+a>h||c+a<0)&&(c*=-1),a+=c,[4,t[u+=l][a]];case 2:return r.sent(),[3,1];case 3:return[2]}}))},cycler:function(t,e,n){var i,o,l;return void 0===e&&(e="f"),void 0===n&&(n=0),r(this,(function(r){switch(r.label){case 0:i=n?n-1:-1,o=e||"f",l=t.length-1,r.label=1;case 1:return"f"===o?(i===l&&(i=-1),i++):(i<=0&&(i=l+1),i--),[4,t[i]];case 2:return r.sent(),[3,1];case 3:return[2]}}))}},n=e.cycler,i=function(t,r,e){var i=[],o="",l=0,c=t.ci,s=t.ri,h="u"===r||"d"===r,d="l"===r||"r"===r,y=!h&&!d,v=p(e),g=f(e);return h&&(i=u(c,e),l=s,"u"===r&&(o="r"),"d"===r&&(o="f")),d&&(i=a(s,e),l=c,"l"===r&&(o="r"),"r"===r&&(l=c+1,o="f")),y&&(l=(i="lu"===r||"rd"===r?g(c,s):v(c,s)).findIndex((function(t){return(null==t?void 0:t.ci)===c}))+1,o=r.startsWith("r")?"f":"r"),n(i,o,l).next().value},o=function(t,r,e){return t*((("w"===r?e.width:e.height)-("w"===r?e.cellWidth:e.cellHeight))/(("w"===r?e.colCount:e.rowCount)-1))},l=function(r,e,n){if(!function(t,r,e){return t>=0&&t<e.colCount&&r>=0&&r<e.rowCount}(r,e,n))return null;var i=o(r,"w",n),l=o(e,"h",n);return t({x:i,y:l,t:l,l:i,b:l+n.cellHeight,r:i+n.cellWidth,w:n.cellWidth,h:n.cellHeight,cx:i+n.cellWidth/2,cy:l+n.cellHeight/2,ci:r,ri:e},c(r,e,n))},c=function(t,r,e){return{_u:function(n){var o=l(t,r-1,e);return o||("cycle"===n?i({ci:t,ri:r},"u",e):l(t,r,e))},_lu:function(n){var o=l(t-1,r-1,e);return o||("cycle"===n?i({ci:t,ri:r},"lu",e):l(t,r,e))},_ru:function(n){var o=l(t+1,r-1,e);return o||("cycle"===n?i({ci:t,ri:r},"ru",e):l(t,r,e))},_d:function(n){var o=l(t,r+1,e);return o||("cycle"===n?i({ci:t,ri:r},"d",e):l(t,r,e))},_ld:function(n){var o=l(t-1,r+1,e);return o||("cycle"===n?i({ci:t,ri:r},"ld",e):l(t,r,e))},_rd:function(n){var o=l(t+1,r+1,e);return o||("cycle"===n?i({ci:t,ri:r},"rd",e):l(t,r,e))},_r:function(n){var o=l(t+1,r,e);return o||("cycle"===n?i({ci:t,ri:r},"r",e):l(t,r,e))},_l:function(n){var o=l(t-1,r,e);return o||("cycle"===n?i({ci:t,ri:r},"l",e):l(t,r,e))}}},u=function(t,r){return Array.from({length:r.rowCount}).map((function(e,n){return l(t,n,r)}))},a=function(t,r){return Array.from({length:r.colCount}).map((function(e,n){return l(n,t,r)}))},s=function(t){return Array.from({length:t.colCount}).map((function(r,e){return u(e,t)}))},h=function(t){return s(t).flatMap((function(t){return t}))},f=function(t){return function(r,e){return h(t).filter((function(t){return r-t.ci==e-t.ri}))}},p=function(t){return function(r,e){return h(t).filter((function(t){if(r===t.ci&&e===t.ri)return!0;var n=r-t.ci,i=e-t.ri;return(n<0||i<0)&&Math.min(n,i)===-1*Math.max(n,i)}))}},d=function(t){return function(r,e){var n=r.ci<=e.ci?r:e,i=r.ci<=e.ci?e:r,o=r.ri<=e.ri?r:e,c=r.ri<=e.ri?e:r,u=c.ci!==o.ci?i.r-n.l:t.cellWidth,a=c.ri!==o.ri?c.b-o.t:t.cellHeight,s=Array.from({length:i.ci-n.ci}),h=Array.from({length:c.ri-o.ri}),f=s.map((function(r,e){return h.map((function(r,i){return l(n.ci+e,o.ri+i,t)}))}));return{x:n.x,y:o.y,w:u,h:a,t:o.t,l:n.l,r:i.r,b:c.b,cx:(n.l+u)/2,cy:(o.t+a)/2,cells:f}}},y=function(){function t(t){var r,e=t.width,n=void 0===e?0:e,i=t.height,o=void 0===i?0:i,c=t.rows,s=void 0===c?0:c,h=t.cols,y=void 0===h?0:h,v=t.cellWidth,g=void 0===v?null:v,b=t.cellHeight,w=void 0===b?null:b;this.width=Number(n),this.height=Number(o),this.rowCount=Number(s),this.colCount=Number(y),this.autoCellWidth=n/y,this.autoCellHeight=o/s,this.cellWidth=g,this.cellHeight=w,this.properties={width:n,height:o,rows:s,cols:y,rowCount:this.rowCount,colCount:this.colCount,cellWidth:this.cellWidth||this.autoCellWidth,cellHeight:this.cellHeight||this.autoCellHeight},this.col=(r=this.properties,function(t){var e=u(t,r);if(e[0]){var n=e[0].x,i=e[0].w,o=r.height,l=e[0].cx;return{cells:e,x:n,y:0,w:i,h:o,t:0,l:n,r:n+i,b:r.height,cx:l,cy:r.height/2,ci:t}}throw new Error("no cell at position 0")}),this.row=function(t){return function(r){var e=a(r,t);if(e[0]){var n=e[0].y,i=e[0].h,o=e[0].cy;return{cells:e,x:0,y:n,w:t.width,h:i,cx:t.width/2,cy:o,t:n,l:0,r:t.width,b:n+i,ri:r}}throw new Error("no cell at position 0")}}(this.properties),this.diagonal=f(this.properties),this.antidiagonal=p(this.properties),this.area=function(t){return function(r){var e=r.ci1,n=r.ri1,i=r.ci2,o=r.ri2,c=l(e,n,t),u=l(i,o,t);if(c&&u)return d(t)(c,u)}}(this.properties),this.areaByCell=d(this.properties)}return Object.defineProperty(t.prototype,"cells",{get:function(){return s(this.properties)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cols",{get:function(){return s(this.properties)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return t=this.properties,Array.from({length:t.rowCount}).map((function(r,e){return a(e,t)}));var t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flatCells",{get:function(){return h(this.properties)},enumerable:!1,configurable:!0}),t.prototype.cell=function(t,r){return l(t,r,this.properties)},t.prototype.rowCells=function(t){return a(t,this.properties)},t.prototype.colCells=function(t){return u(t,this.properties)},t.prototype.scanCells=function(t,r,n){return void 0===t&&(t=this.flatCells),void 0===r&&(r="f"),void 0===n&&(n=null),e.scanner(t,r,n)},t.prototype.cycleCells=function(t,r,n){return void 0===t&&(t=this.flatCells),void 0===r&&(r="f"),void 0===n&&(n=null),e.cycler(t,r,n)},t.prototype.scanRow=function(t,r,e){void 0===r&&(r="f"),void 0===e&&(e=null);var n=this.rowCells(t);return this.scanCells(n,r,e)},t.prototype.scanDiagonal=function(t,r,e,n){void 0===e&&(e="f"),void 0===n&&(n=null);var i=this.diagonal(t,r).slice();return this.scanCells(i,e,n)},t.prototype.scanAntidiagonal=function(t,r,e,n){void 0===e&&(e="f"),void 0===n&&(n=null);var i=this.antidiagonal(t,r);return"r"===e&&i.reverse(),this.scanCells(i,e,n)},t.prototype.scanCol=function(t,r,e){void 0===r&&(r="f"),void 0===e&&(e=null);var n=this.colCells(t);return this.scanCells(n,r,e)},t.prototype.cycleRow=function(t,r,e){return void 0===r&&(r="f"),void 0===e&&(e=null),this.cycleCells(this.rowCells(t),r,e)},t.prototype.cycleCol=function(t,r,e){return void 0===r&&(r="f"),void 0===e&&(e=null),this.cycleCells(this.colCells(t),r,e)},t.prototype.cycleDiagonal=function(t,r,e,n){return void 0===e&&(e="f"),void 0===n&&(n=null),this.cycleCells(this.diagonal(t,r),e,n)},t.prototype.cycleAntidiagonal=function(t,r,e,n){return void 0===e&&(e="f"),void 0===n&&(n=null),this.cycleCells(this.antidiagonal(t,r),e,n)},t.prototype.bounce=function(t,r,n,i,o){return void 0===t&&(t=this.cells),e.bouncer(t,r,n,i,o)},t}();export default y;

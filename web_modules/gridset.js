var t=function(){return (t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function e(t,e){var n,r,i,o,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(i=l.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){l.label=o[1];break}if(6===o[0]&&l.label<i[1]){l.label=i[1],i=o;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(o);break}i[2]&&l.ops.pop(),l.trys.pop();continue}o=e.call(t,l);}catch(t){o=[6,t],r=0;}finally{n=i=0;}if(5&o[0])throw o[1];return {value:o[0]?o[1]:void 0,done:!0}}([o,c])}}}var n={scanner:function(t,n,r){var i,o;return void 0===n&&(n="f"),e(this,(function(e){switch(e.label){case 0:i=t.length-1,o="f"===n?-1:i+1,null!==r&&(o="f"===n?r-1:r+1),e.label=1;case 1:return "f"===n?o!==i?o++:(n="r",o--):0!==o?o--:(n="f",o++),[4,t[o]];case 2:return e.sent(),[3,1];case 3:return [2]}}))},bouncer:function(t,n,r,i,o){var l,c,u,s,a,f,h;return void 0===i&&(i=1),void 0===o&&(o=1),e(this,(function(e){switch(e.label){case 0:l=i,c=o,u=n?n-1:-1,s=r?r-1:-1,a=t.length-1,f=t[0]&&t[0].length-1||0,e.label=1;case 1:return (l+u>a||l+u<0)&&(l*=-1),(c+s>f||c+s<0)&&(c*=-1),u+=l,s+=c,[4,(null===(h=null==t?void 0:t[u])||void 0===h?void 0:h[s])||0];case 2:return e.sent(),[3,1];case 3:return [2]}}))},cycler:function(t,n,r){var i,o,l;return void 0===n&&(n="f"),void 0===r&&(r=0),e(this,(function(e){switch(e.label){case 0:i=r?r-1:-1,o=n||"f",l=t.length-1,e.label=1;case 1:return "f"===o?(i===l&&(i=-1),i++):(i<=0&&(i=l+1),i--),[4,t[i]];case 2:return e.sent(),[3,1];case 3:return [2]}}))}},r=n.cycler,i=function(t,e,n){var i=[],o="",l=0,c=t.ci,a=t.ri,f="u"===e||"d"===e,p="l"===e||"r"===e,y=!f&&!p,g=d(n),v=h(n);return f&&(i=u(c,n),l=a,"u"===e&&(o="r"),"d"===e&&(o="f")),p&&(i=s(a,n),l=c,"l"===e&&(o="r"),"r"===e&&(l=c+1,o="f")),y&&(l=(i="lu"===e||"rd"===e?v(c,a):g(c,a)).findIndex((function(t){return (null==t?void 0:t.ci)===c}))+1,o=e.startsWith("r")?"f":"r"),r(i,o,l).next().value},o=function(t,e,n){return t*((("w"===e?n.width:n.height)-("w"===e?n.cellWidth:n.cellHeight))/(("w"===e?n.colCount:n.rowCount)-1))},l=function(e,n,r){if(!function(t,e,n){return t>=0&&t<n.colCount&&e>=0&&e<n.rowCount}(e,n,r))return null;var i=o(e,"w",r),l=o(n,"h",r);return t({x:i,y:l,t:l,l:i,b:l+r.cellHeight,r:i+r.cellWidth,w:r.cellWidth,h:r.cellHeight,cx:i+r.cellWidth/2,cy:l+r.cellHeight/2,ci:e,ri:n},c(e,n,r))},c=function(t,e,n){return {_u:function(r){var o=l(t,e-1,n);return o||("cycle"===r?i({ci:t,ri:e},"u",n):l(t,e,n))},_lu:function(r){var o=l(t-1,e-1,n);return o||("cycle"===r?i({ci:t,ri:e},"lu",n):l(t,e,n))},_ru:function(r){var o=l(t+1,e-1,n);return o||("cycle"===r?i({ci:t,ri:e},"ru",n):l(t,e,n))},_d:function(r){var o=l(t,e+1,n);return o||("cycle"===r?i({ci:t,ri:e},"d",n):l(t,e,n))},_ld:function(r){var o=l(t-1,e+1,n);return o||("cycle"===r?i({ci:t,ri:e},"ld",n):l(t,e,n))},_rd:function(r){var o=l(t+1,e+1,n);return o||("cycle"===r?i({ci:t,ri:e},"rd",n):l(t,e,n))},_r:function(r){var o=l(t+1,e,n);return o||("cycle"===r?i({ci:t,ri:e},"r",n):l(t,e,n))},_l:function(r){var o=l(t-1,e,n);return o||("cycle"===r?i({ci:t,ri:e},"l",n):l(t,e,n))}}},u=function(t,e){return Array.from({length:e.rowCount}).map((function(n,r){return l(t,r,e)}))},s=function(t,e){return Array.from({length:e.colCount}).map((function(n,r){return l(r,t,e)}))},a=function(t){return Array.from({length:t.colCount}).map((function(e,n){return u(n,t)}))},f=function(t){return a(t).flatMap((function(t){return t}))},h=function(t){return function(e,n){return f(t).filter((function(t){return e-t.ci==n-t.ri}))}},d=function(t){return function(e,n){return f(t).filter((function(t){if(e===t.ci&&n===t.ri)return !0;var r=e-t.ci,i=n-t.ri;return (r<0||i<0)&&Math.min(r,i)===-1*Math.max(r,i)}))}},p=function(t){return function(e,n){var r=e.ci<=n.ci?e:n,i=e.ci<=n.ci?n:e,o=e.ri<=n.ri?e:n,c=e.ri<=n.ri?n:e,u=c.ci!==o.ci?i.r-r.l:t.cellWidth,s=c.ri!==o.ri?c.b-o.t:t.cellHeight,a=Array.from({length:i.ci-r.ci}),f=Array.from({length:c.ri-o.ri}),h=a.map((function(e,n){return f.map((function(e,i){return l(r.ci+n,o.ri+i,t)}))}));return {x:r.x,y:o.y,w:u,h:s,t:o.t,l:r.l,r:i.r,b:c.b,cx:(r.l+u)/2,cy:(o.t+s)/2,cells:h}}},y=function(){function t(t){var e,n=t.width,r=void 0===n?0:n,i=t.height,o=void 0===i?0:i,c=t.rows,a=void 0===c?0:c,f=t.cols,y=void 0===f?0:f,g=t.cellWidth,v=void 0===g?null:g,b=t.cellHeight,w=void 0===b?null:b;this.settings={width:Number(r),height:Number(o),rowCount:Number(a),colCount:Number(y),cellWidth:v||r/y,cellHeight:w||o/a},this.col=(e=this.settings,function(t){var n=u(t,e);if(n[0]){var r=n[0].x,i=n[0].w,o=e.height,l=n[0].cx;return {cells:n,x:r,y:0,w:i,h:o,t:0,l:r,r:r+i,b:e.height,cx:l,cy:e.height/2,ci:t}}throw new Error("no cell at position 0")}),this.row=function(t){return function(e){var n=s(e,t);if(n[0]){var r=n[0].y,i=n[0].h,o=n[0].cy;return {cells:n,x:0,y:r,w:t.width,h:i,cx:t.width/2,cy:o,t:r,l:0,r:t.width,b:r+i,ri:e}}throw new Error("no cell at position 0")}}(this.settings),this.diagonal=h(this.settings),this.antidiagonal=d(this.settings),this.area=function(t){return function(e){var n=e.ci1,r=e.ri1,i=e.ci2,o=e.ri2,c=l(n,r,t),u=l(i,o,t);if(c&&u)return p(t)(c,u)}}(this.settings),this.areaByCell=p(this.settings);}return Object.defineProperty(t.prototype,"cells",{get:function(){return a(this.settings)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cols",{get:function(){return a(this.settings)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rows",{get:function(){return t=this.settings,Array.from({length:t.rowCount}).map((function(e,n){return s(n,t)}));var t;},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flatCells",{get:function(){return f(this.settings)},enumerable:!1,configurable:!0}),t.prototype.cell=function(t,e){return l(t,e,this.settings)},t.prototype.rowCells=function(t){return s(t,this.settings)},t.prototype.colCells=function(t){return u(t,this.settings)},t.prototype.scanCells=function(t,e,r){return void 0===t&&(t=this.flatCells),void 0===e&&(e="f"),void 0===r&&(r=null),n.scanner(t,e,r)},t.prototype.cycleCells=function(t,e,r){return void 0===t&&(t=this.flatCells),void 0===e&&(e="f"),void 0===r&&(r=null),n.cycler(t,e,r)},t.prototype.scanRow=function(t,e,n){void 0===e&&(e="f"),void 0===n&&(n=null);var r=this.rowCells(t);return this.scanCells(r,e,n)},t.prototype.scanDiagonal=function(t,e,n,r){void 0===n&&(n="f"),void 0===r&&(r=null);var i=this.diagonal(t,e).slice();return this.scanCells(i,n,r)},t.prototype.scanAntidiagonal=function(t,e,n,r){void 0===n&&(n="f"),void 0===r&&(r=null);var i=this.antidiagonal(t,e);return "r"===n&&i.reverse(),this.scanCells(i,n,r)},t.prototype.scanCol=function(t,e,n){void 0===e&&(e="f"),void 0===n&&(n=null);var r=this.colCells(t);return this.scanCells(r,e,n)},t.prototype.cycleRow=function(t,e,n){return void 0===e&&(e="f"),void 0===n&&(n=null),this.cycleCells(this.rowCells(t),e,n)},t.prototype.cycleCol=function(t,e,n){return void 0===e&&(e="f"),void 0===n&&(n=null),this.cycleCells(this.colCells(t),e,n)},t.prototype.cycleDiagonal=function(t,e,n,r){return void 0===n&&(n="f"),void 0===r&&(r=null),this.cycleCells(this.diagonal(t,e),n,r)},t.prototype.cycleAntidiagonal=function(t,e,n,r){return void 0===n&&(n="f"),void 0===r&&(r=null),this.cycleCells(this.antidiagonal(t,e),n,r)},t.prototype.bounce=function(t,e,r,i,o){return void 0===t&&(t=this.cells),n.bouncer(t,e,r,i,o)},Object.defineProperty(t.prototype,"width",{get:function(){return this.settings.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.settings.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rowCount",{get:function(){return this.settings.rowCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"colCount",{get:function(){return this.settings.colCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellWidth",{get:function(){return this.settings.cellWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cellHeight",{get:function(){return this.settings.cellHeight},enumerable:!1,configurable:!0}),t}();

export { y as default };
